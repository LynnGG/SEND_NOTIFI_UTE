[2022-05-17 08:25:23,131] {taskinstance.py:896} INFO - Dependencies all met for <TaskInstance: UTE_THONG_BAO_V1.schedule_bgg_crawler 2022-05-17T08:15:00+00:00 [queued]>
[2022-05-17 08:25:23,138] {taskinstance.py:896} INFO - Dependencies all met for <TaskInstance: UTE_THONG_BAO_V1.schedule_bgg_crawler 2022-05-17T08:15:00+00:00 [queued]>
[2022-05-17 08:25:23,138] {taskinstance.py:1087} INFO - 
--------------------------------------------------------------------------------
[2022-05-17 08:25:23,138] {taskinstance.py:1088} INFO - Starting attempt 1 of 1
[2022-05-17 08:25:23,138] {taskinstance.py:1089} INFO - 
--------------------------------------------------------------------------------
[2022-05-17 08:25:23,145] {taskinstance.py:1107} INFO - Executing <Task(BashOperator): schedule_bgg_crawler> on 2022-05-17T08:15:00+00:00
[2022-05-17 08:25:23,148] {standard_task_runner.py:52} INFO - Started process 177 to run task
[2022-05-17 08:25:23,153] {standard_task_runner.py:76} INFO - Running: ['***', 'tasks', 'run', 'UTE_THONG_BAO_V1', 'schedule_bgg_crawler', '2022-05-17T08:15:00+00:00', '--job-id', '154', '--pool', 'default_pool', '--raw', '--subdir', 'DAGS_FOLDER/test/test.py', '--cfg-path', '/tmp/tmp9t_w5jx2', '--error-file', '/tmp/tmpuea06enm']
[2022-05-17 08:25:23,154] {standard_task_runner.py:77} INFO - Job 154: Subtask schedule_bgg_crawler
[2022-05-17 08:25:23,188] {logging_mixin.py:104} INFO - Running <TaskInstance: UTE_THONG_BAO_V1.schedule_bgg_crawler 2022-05-17T08:15:00+00:00 [running]> on host 0b42bd968922
[2022-05-17 08:25:23,221] {taskinstance.py:1300} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=UTE_THONG_BAO_V1
AIRFLOW_CTX_DAG_ID=UTE_THONG_BAO_V1
AIRFLOW_CTX_TASK_ID=schedule_bgg_crawler
AIRFLOW_CTX_EXECUTION_DATE=2022-05-17T08:15:00+00:00
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2022-05-17T08:15:00+00:00
[2022-05-17 08:25:23,222] {subprocess.py:52} INFO - Tmp dir root location: 
 /tmp
[2022-05-17 08:25:23,222] {subprocess.py:63} INFO - Running command: ['bash', '-c', 'cd /opt/***/dags/test && scrapy crawl thongbao && echo "xong t1"']
[2022-05-17 08:25:23,228] {subprocess.py:75} INFO - Output:
[2022-05-17 08:25:24,083] {subprocess.py:79} INFO - sh: 1: dags/test: not found
[2022-05-17 08:25:24,094] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.utils.log] INFO: Scrapy 2.6.1 started (bot: thongbao)
[2022-05-17 08:25:24,095] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.utils.log] INFO: Versions: lxml 4.8.0.0, libxml2 2.9.12, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 22.4.0, Python 3.8.12 (default, Dec 21 2021, 11:15:53) - [GCC 8.3.0], pyOpenSSL 19.1.0 (OpenSSL 1.1.1k  25 Mar 2021), cryptography 3.4.7, Platform Linux-5.13.0-39-generic-x86_64-with-glibc2.2.5
[2022-05-17 08:25:24,101] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.crawler] INFO: Overridden settings:
[2022-05-17 08:25:24,101] {subprocess.py:79} INFO - {'BOT_NAME': 'thongbao',
[2022-05-17 08:25:24,101] {subprocess.py:79} INFO -  'FEED_EXPORT_ENCODING': 'utf-8',
[2022-05-17 08:25:24,101] {subprocess.py:79} INFO -  'NEWSPIDER_MODULE': 'thongbao.spiders',
[2022-05-17 08:25:24,101] {subprocess.py:79} INFO -  'SPIDER_MODULES': ['thongbao.spiders']}
[2022-05-17 08:25:24,106] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
[2022-05-17 08:25:24,130] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.extensions.telnet] INFO: Telnet Password: fcb7b8f00d07c241
[2022-05-17 08:25:24,156] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.middleware] INFO: Enabled extensions:
[2022-05-17 08:25:24,156] {subprocess.py:79} INFO - ['scrapy.extensions.corestats.CoreStats',
[2022-05-17 08:25:24,156] {subprocess.py:79} INFO -  'scrapy.extensions.telnet.TelnetConsole',
[2022-05-17 08:25:24,156] {subprocess.py:79} INFO -  'scrapy.extensions.memusage.MemoryUsage',
[2022-05-17 08:25:24,157] {subprocess.py:79} INFO -  'scrapy.extensions.logstats.LogStats']
[2022-05-17 08:25:24,286] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.middleware] INFO: Enabled downloader middlewares:
[2022-05-17 08:25:24,286] {subprocess.py:79} INFO - ['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
[2022-05-17 08:25:24,286] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
[2022-05-17 08:25:24,286] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'thongbao.middlewares.ThongbaoDownloaderMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.retry.RetryMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
[2022-05-17 08:25:24,287] {subprocess.py:79} INFO -  'scrapy.downloadermiddlewares.stats.DownloaderStats']
[2022-05-17 08:25:24,296] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.middleware] INFO: Enabled spider middlewares:
[2022-05-17 08:25:24,296] {subprocess.py:79} INFO - ['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
[2022-05-17 08:25:24,296] {subprocess.py:79} INFO -  'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
[2022-05-17 08:25:24,296] {subprocess.py:79} INFO -  'scrapy.spidermiddlewares.referer.RefererMiddleware',
[2022-05-17 08:25:24,296] {subprocess.py:79} INFO -  'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
[2022-05-17 08:25:24,296] {subprocess.py:79} INFO -  'scrapy.spidermiddlewares.depth.DepthMiddleware']
[2022-05-17 08:25:24,314] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.middleware] INFO: Enabled item pipelines:
[2022-05-17 08:25:24,314] {subprocess.py:79} INFO - ['thongbao.pipelines.ThongbaoPipeline']
[2022-05-17 08:25:24,315] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.core.engine] INFO: Spider opened
[2022-05-17 08:25:24,435] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
[2022-05-17 08:25:24,435] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [thongbao] INFO: Spider opened: thongbao
[2022-05-17 08:25:24,437] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
[2022-05-17 08:25:24,439] {subprocess.py:79} INFO - 2022-05-17 08:25:24 [root] DEBUG: current user-agent: _
[2022-05-17 08:25:25,147] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] DEBUG: Attempting to acquire lock 140362680407376 on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock
[2022-05-17 08:25:25,147] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] INFO: Lock 140362680407376 acquired on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock
[2022-05-17 08:25:25,147] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] DEBUG: Attempting to acquire lock 140362654882064 on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock
[2022-05-17 08:25:25,147] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] INFO: Lock 140362654882064 acquired on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock
[2022-05-17 08:25:25,149] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [urllib3.connectionpool] DEBUG: Starting new HTTPS connection (1): publicsuffix.org:443
[2022-05-17 08:25:25,368] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [urllib3.connectionpool] DEBUG: https://publicsuffix.org:443 "GET /list/public_suffix_list.dat HTTP/1.1" 200 None
[2022-05-17 08:25:25,428] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] DEBUG: Attempting to release lock 140362654882064 on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock
[2022-05-17 08:25:25,429] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] INFO: Lock 140362654882064 released on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/urls/62bf135d1c2f3d4db4228b9ecaf507a2.tldextract.json.lock
[2022-05-17 08:25:25,453] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] DEBUG: Attempting to release lock 140362680407376 on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock
[2022-05-17 08:25:25,453] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [filelock] INFO: Lock 140362680407376 released on /home/***/.cache/python-tldextract/3.8.12.final__local__ecb11d__tldextract-3.3.0/publicsuffix.org-tlds/de84b5ca2167d4c83e38fb162f2e8738.tldextract.json.lock
[2022-05-17 08:25:25,457] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://daotao.ute.udn.vn/> (referer: None)
[2022-05-17 08:25:25,600] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [root] DEBUG: current user-agent: T
[2022-05-17 08:25:25,608] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [root] INFO: [!] OLD_DATA STOP !!
[2022-05-17 08:25:25,959] {subprocess.py:79} INFO - 2022-05-17 08:25:25 [scrapy.core.engine] DEBUG: Crawled (200) <GET http://daotao.ute.udn.vn/viewMsg.asp?mid=20018> (referer: http://daotao.ute.udn.vn/)
[2022-05-17 08:25:26,105] {subprocess.py:79} INFO - 2022-05-17 08:25:26 [scrapy.core.scraper] DEBUG: Scraped from <200 http://daotao.ute.udn.vn/viewMsg.asp?mid=20018>
[2022-05-17 08:25:26,106] {subprocess.py:79} INFO - None
[2022-05-17 08:25:26,106] {subprocess.py:79} INFO - 2022-05-17 08:25:26 [scrapy.core.engine] INFO: Closing spider (finished)
[2022-05-17 08:25:26,110] {subprocess.py:79} INFO - 2022-05-17 08:25:26 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
[2022-05-17 08:25:26,110] {subprocess.py:79} INFO - {'downloader/request_bytes': 546,
[2022-05-17 08:25:26,111] {subprocess.py:79} INFO -  'downloader/request_count': 2,
[2022-05-17 08:25:26,111] {subprocess.py:79} INFO -  'downloader/request_method_count/GET': 2,
[2022-05-17 08:25:26,111] {subprocess.py:79} INFO -  'downloader/response_bytes': 43355,
[2022-05-17 08:25:26,111] {subprocess.py:79} INFO -  'downloader/response_count': 2,
[2022-05-17 08:25:26,111] {subprocess.py:79} INFO -  'downloader/response_status_count/200': 2,
[2022-05-17 08:25:26,112] {subprocess.py:79} INFO -  'elapsed_time_seconds': 1.673074,
[2022-05-17 08:25:26,112] {subprocess.py:79} INFO -  'finish_reason': 'finished',
[2022-05-17 08:25:26,112] {subprocess.py:79} INFO -  'finish_time': datetime.datetime(2022, 5, 17, 8, 25, 26, 108568),
[2022-05-17 08:25:26,112] {subprocess.py:79} INFO -  'httpcompression/response_bytes': 171397,
[2022-05-17 08:25:26,112] {subprocess.py:79} INFO -  'httpcompression/response_count': 2,
[2022-05-17 08:25:26,113] {subprocess.py:79} INFO -  'item_scraped_count': 1,
[2022-05-17 08:25:26,113] {subprocess.py:79} INFO -  'log_count/DEBUG': 12,
[2022-05-17 08:25:26,113] {subprocess.py:79} INFO -  'log_count/INFO': 16,
[2022-05-17 08:25:26,113] {subprocess.py:79} INFO -  'memusage/max': 66846720,
[2022-05-17 08:25:26,113] {subprocess.py:79} INFO -  'memusage/startup': 66846720,
[2022-05-17 08:25:26,114] {subprocess.py:79} INFO -  'request_depth_max': 1,
[2022-05-17 08:25:26,114] {subprocess.py:79} INFO -  'response_received_count': 2,
[2022-05-17 08:25:26,114] {subprocess.py:79} INFO -  'scheduler/dequeued': 2,
[2022-05-17 08:25:26,114] {subprocess.py:79} INFO -  'scheduler/dequeued/memory': 2,
[2022-05-17 08:25:26,114] {subprocess.py:79} INFO -  'scheduler/enqueued': 2,
[2022-05-17 08:25:26,115] {subprocess.py:79} INFO -  'scheduler/enqueued/memory': 2,
[2022-05-17 08:25:26,115] {subprocess.py:79} INFO -  'start_time': datetime.datetime(2022, 5, 17, 8, 25, 24, 435494),
[2022-05-17 08:25:26,115] {subprocess.py:79} INFO -  'thongbao/saved': 1}
[2022-05-17 08:25:26,115] {subprocess.py:79} INFO - 2022-05-17 08:25:26 [scrapy.core.engine] INFO: Spider closed (finished)
[2022-05-17 08:25:26,115] {subprocess.py:79} INFO - current user-agent: _
[2022-05-17 08:25:26,116] {subprocess.py:79} INFO - viewMsg.asp?mid=20018
[2022-05-17 08:25:26,116] {subprocess.py:79} INFO - 20016
[2022-05-17 08:25:26,116] {subprocess.py:79} INFO - 20015
[2022-05-17 08:25:26,116] {subprocess.py:79} INFO - 20014
[2022-05-17 08:25:26,116] {subprocess.py:79} INFO - 20013
[2022-05-17 08:25:26,117] {subprocess.py:79} INFO - 20011
[2022-05-17 08:25:26,117] {subprocess.py:79} INFO - current user-agent: T
[2022-05-17 08:25:26,117] {subprocess.py:79} INFO - viewMsg.asp?mid=20016
[2022-05-17 08:25:26,117] {subprocess.py:79} INFO - 20016
[2022-05-17 08:25:26,219] {subprocess.py:79} INFO - xong t1
[2022-05-17 08:25:26,220] {subprocess.py:83} INFO - Command exited with return code 0
[2022-05-17 08:25:26,257] {taskinstance.py:1204} INFO - Marking task as SUCCESS. dag_id=UTE_THONG_BAO_V1, task_id=schedule_bgg_crawler, execution_date=20220517T081500, start_date=20220517T082523, end_date=20220517T082526
[2022-05-17 08:25:26,283] {taskinstance.py:1265} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2022-05-17 08:25:26,295] {local_task_job.py:151} INFO - Task exited with return code 0
